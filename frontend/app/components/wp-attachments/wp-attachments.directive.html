<div>
  <div
      class="work-package--attachments--files"
      ng-show="$ctrl.attachments.length > 0">
    <div class="work-package--details--long-field">
        <span
            class="inplace-edit--read"
            ng-repeat="attachment in $ctrl.attachments track by attachment.name+$index">
          <span class="inplace-editing--trigger-container">
            <span
                class="inplace-editing--trigger-link"
                ng-class="{'-focus': $ctrl.focusing(attachment)}">
              <span class="inplace-editing--container">
                <span class="inplace-edit--read-value">
                  <i class="icon-attachment"></i>
                  <a
                      class="work-package--attachments--filename"
                      ng-href="{{attachment.downloadLocation.href || '#'}}"
                      download
                      ng-focus="$ctrl.focus(attachment)"
                      ng-blur="$ctrl.focus(null)">
                    {{::attachment.fileName || attachment.name}}
                  </a>
                </span>
                <a
                    href=''
                    class="inplace-edit--icon-wrapper"
                    ng-focus="$ctrl.focus(attachment)"
                    ng-blur="$ctrl.focus(null)"
                    ng-click="$ctrl.remove(attachment)"
                    confirm-popup="{{ ::$ctrl.destroyConfirmation }}">

                  <icon-wrapper
                      icon-name="delete"
                      icon-title="{{ ::$ctrl.text.removeFile({fileName: attachment.fileName}) }}">
                  </icon-wrapper>
                </a>
              </span>
            </span>
          </span>
        </span>
    </div>
  </div>

  <wp-attachments-upload work-package="$ctrl.workPackage"></wp-attachments-upload>
</div>
