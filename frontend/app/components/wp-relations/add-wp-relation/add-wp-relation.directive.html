<form name="add_relation_form" class="form">
  <div class="choice">
    <div class="choice--select">
      <ui-select
        id="relation_to_id-{{ $ctrl.handler.relationsId }}"
        name="relation[to_id][{{ $ctrl.handler.relationsId }}]"
        ng-model="$parent.relationToAddId"
        title="{{ text.uiSelectTitle }}"
        required
        theme="select2"
        tabindex="0">
        <ui-select-match tabindex="-1">{{$select.selected.to_s}}</ui-select-match>
        <ui-select-choices
          refresh-delay="100"
          refresh="autocompleteWorkPackages($select.search)"
          repeat="item.id as item in options">
            <div ng-bind="item.to_s"></div>
        </ui-select-choices>
      </ui-select>
    </div>
    <div class="choice--button">
      <button class="button"
              title="{{ $ctrl.btnTitle }}"
              ng-bind-html="$ctrl.btnIcon + ' ' + $ctrl.btnTitle"
              ng-click="$ctrl.handler.addRelation(this)"
              ng-disabled="add_relation_form.$invalid">
      </button>
    </div>
  </div>
</form>
