if(RB==null){
  var RB = {};
}

RB.constants = {
  project_id: <%= @project.id %>,
  sprint_id: <%= @sprint ? @sprint.id : "null" %>,
  protect_against_forgery: <%= protect_against_forgery? ? "true" : "false" %>,
  request_forgery_protection_token: '<%= request_forgery_protection_token %>',
  form_authenticity_token: '<%= form_authenticity_token %>'
}

RB.buildImageTag = function(name){
  return "<img src='<%= Engines::RailsExtensions::AssetHelpers.plugin_asset_path('redmine_backlogs', 'images', nil) %>" + name + "'/>"
}

RB.urlFor = {
  create_story: '<%= url_for(:controller => 'stories', :action => 'create') %>',
  list_stories: '<%= url_for(:controller => 'stories', :action => 'index') %>',
  new_story: '<%= url_for(:controller => 'stories', :action => 'new') %>',
  update_story: '<%= url_for(:controller => 'stories', :action => 'update') %>',

  create_task: '<%= url_for(:controller => 'tasks', :action => 'create') %>',
  list_tasks: '<%= url_for(:controller => 'tasks', :action => 'index') %>',
  new_task: '<%= url_for(:controller => 'tasks', :action => 'new') %>',
  update_task: '<%= url_for(:controller => 'tasks', :action => 'update') %>',  

  sprint_date: '<%= url_for(:action => 'sprint_date') %>',
  story_points: '<%= url_for(:action => 'story_points') %>',
  update_backlog: '<%= url_for(:controller => 'backlogs', :action => 'update') %>',
  show_charts: '<%= url_for(:controller => 'charts', :action => 'show') %>'
}

if(typeof console != "undefined" && console != null) console.log('*** jsvariables loaded ***');
